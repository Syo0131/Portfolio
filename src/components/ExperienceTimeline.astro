---
export interface Props {
  position: string;
  company: string;
  period: string;
  alignment?: "top" | "bottom";
  alignmentMobile?: "left" | "right";
  typecontrat?: string;
  description?: string[];
}

const {
  position,
  company,
  period,
  alignment = "top",
  alignmentMobile = "right",
  typecontrat,
  description,
} = Astro.props;

// Clases para alineaci√≥n horizontal (desktop/tablet)
const alignmentClasses =
  alignment === "top"
    ? "flex-col-reverse" // Contenido arriba, punto abajo
    : "flex-col"; // Punto arriba, contenido abajo

// Clases para alineaci√≥n vertical (m√≥vil) - izquierda/derecha
const alignmentClassesMobile =
  alignmentMobile === "right"
    ? "w-1/2 pr-4 sm:pr-8 text-right ml-0"
    : "w-1/2 pl-4 sm:pl-8 text-left ml-auto";
---

<!-- üåê Versi√≥n m√≥vil (timeline vertical centrado) --><!-- Solo visible en pantallas < 768px -->
<li class="relative md:hidden mb-12">
  <!-- Punto central -->
  <div
    class="absolute left-1/2 -translate-x-1/2 top-2 w-3 h-3 bg-shakespeare-400 rounded-full ring-4 ring-slate-900 z-10"
  >
  </div>

  <!-- Contenedor de texto alineado -->
  <div class={alignmentClassesMobile}>
    <h3 class="text-lg sm:text-xl font-semibold text-slate-100 mb-2">
      {position}
    </h3>
    <p class="text-base sm:text-lg font-semibold text-shakespeare-400 mb-1">
      {company}
    </p>
    <time
      class="inline-block text-xs sm:text-sm px-3 py-1 bg-shakespeare-500/20 text-shakespeare-300 rounded-full border border-shakespeare-500/30"
      >{period}</time
    >
    <span
      class="inline-block text-xs sm:text-sm px-3 py-1 bg-shakespeare-500/20 text-shakespeare-300 rounded-full border border-shakespeare-500/30"
    >
      {description}
    </span>
  </div>
</li>

<!-- üíª Versi√≥n tablet/desktop (timeline horizontal con scroll) -->
<!-- Solo visible en pantallas ‚â• 768px -->
<li class="hidden md:flex relative flex-shrink-0 w-[300px] lg:w-[340px]">
  <div class={`flex ${alignmentClasses} items-center gap-8 lg:gap-12 h-full`}>
    <!-- Punto en la l√≠nea horizontal -->
    <div
      class="w-4 h-4 bg-shakespeare-400 rounded-full ring-4 ring-slate-900 z-10 flex-shrink-0"
    >
    </div>

    <!-- Card de contenido -->
    <div
      class="bg-slate-900/30 backdrop-blur-sm border border-shakespeare-800/30 rounded-xl p-4 lg:p-5 hover:border-shakespeare-700/50 transition-all duration-300 hover:shadow-lg hover:shadow-shakespeare-500/10"
    >
      <h3 class="text-base lg:text-lg font-semibold text-slate-100 mb-2">
        {position}
      </h3>
      <p class="text-sm lg:text-base font-semibold text-shakespeare-400 mb-1">
        {company}
      </p>
      {
        description && description.length > 0 && (
          <ul class="list-inside text-xs  lg:text-sm text-slate-300 mt-2 space-y-1">
            {description.map((item) => (
              <li>{item}</li>
            ))}
          </ul>
        )
      }

      <span
        class="inline-grid text-xs lg:text-sm px-3 py-1 mt-3 bg-shakespeare-500/20 text-shakespeare-300 rounded-full border border-shakespeare-500/30"
      >
        {period}
      </span>
    </div>
  </div>
</li>
